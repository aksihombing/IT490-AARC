{
    "Frontend": {
        "userFeatures": {
            "paths": [
                "frontend/includes/login.php",
                "frontend/includes/logout.php",
                "frontend/includes/register.php",
                "frontend/includes/validate.inc.php",
                "frontend/my_library.php"
            ],
            "commands": [
                "echo 'Installing userFeatures'",
                "sudo cp -r frontend/* /var/www/aarc/",
                "if [ $? -ne 0 ]; then echo 'Failed to move files.'; exit 1; fi",
                "sudo service apache2 restart",
                "if [ $? -ne 0 ]; then echo 'Failed restart apache2.'; exit 1; fi",
                "echo '-----Installation complete-----'",
                "exit 0"
            ]
        },
        "clubFeatures": {
            "paths": [
                "frontend/includes/club_functions.php",
                "frontend/includes/events_api.php",
                "frontend/includes/events_functions.php",
                "frontend/bookClub.php",
                "frontend/calendar.php"
            ],
            "commands": [
                "echo 'Installing clubFeatures'",
                "sudo cp -r frontend/* /var/www/aarc/",
                "if [ $? -ne 0 ]; then echo 'Failed to move files.'; exit 1; fi",
                "sudo service apache2 restart",
                "if [ $? -ne 0 ]; then echo 'Failed restart apache2.'; exit 1; fi",
                "echo '-----Installation complete-----'",
                "exit 0"
            ]
        },
        "bookFeatures": {
            "paths": [
                "frontend/includes/book.inc.php",
                "frontend/includes/browse.inc.php",
                "frontend/includes/my_library.inc.php",
                "frontend/includes/recent.inc.php",
                "frontend/includes/search.inc.php",
                "frontend/book.php",
                "frontend/browse.php",
                "frontend/search.php"
            ],
            "commands": [
                "echo 'Installing bookFeatures'",
                "sudo cp -r frontend/* /var/www/aarc/",
                "if [ $? -ne 0 ]; then echo 'Failed to move files.'; exit 1; fi",
                "sudo service apache2 restart",
                "if [ $? -ne 0 ]; then echo 'Failed restart apache2.'; exit 1; fi",
                "echo '-----Installation complete-----'",
                "exit 0"
            ]
        },
        "baseFeatures": {
            "paths": [
                "frontend/footer.inc.php",
                "frontend/index.php",
                "frontend/main.inc.php",
                "frontend/nav.inc.php"
            ],
            "commands": [
                "echo 'Installing baseFeatures'",
                "sudo cp -r frontend/* /var/www/aarc/",
                "if [ $? -ne 0 ]; then echo 'Failed to move files.'; exit 1; fi",
                "sudo service apache2 restart",
                "if [ $? -ne 0 ]; then echo 'Failed restart apache2.'; exit 1; fi",
                "echo '-----Installation complete-----'",
                "exit 0"
            ]
        },
        "frontendProcess" : {
            "paths": [
                "rabbitMQ/"
            ],
            "commands": [
                "echo 'Installing frontendProcess'",
                "sudo cp -r rabbitMQ/* /var/www/rabbitMQ/",
                "if [ $? -ne 0 ]; then echo 'Failed to move files.'; exit 1; fi",
                "sudo service apache2 restart",
                "if [ $? -ne 0 ]; then echo 'Failed restart apache2.'; exit 1; fi",
                "echo '-----Installation complete-----'",
                "exit 0"
            ]
        }
    },
    "Backend": {
        "userData": {
            "paths": [
                "backend/sql_db/"
            ],
            "commands": [
                "echo 'Installing userData'",
                "sudo cp -r backend/ /home/",
                "if [ $? -ne 0 ]; then echo 'Failed to move files.'; exit 1; fi",
                "sudo mysql -u 'userAdmin' -paarc490 'userdb' < '/home/backend/sql_db/userdb.sql'",
                "echo '-----Installation complete-----'",
                "exit 0"
            ]
        },
        "bookData": {
            "paths": [
                "backend/api_db"
            ],
            "commands": [
                "echo 'Installing bookData'",
                "sudo cp -r backend/ /home/",
                "if [ $? -ne 0 ]; then echo 'Failed to move files.'; exit 1; fi",
                "sudo mysql -u 'apiAdmin' -paarc490 'apidb' < '/home/backend/api_db/library_cache.sql'",
                "if [ $? -ne 0 ]; then echo 'Failed to updated library_cache table.'; exit 1; fi",
                "sudo mysql -u 'apiAdmin' -paarc490 'apidb' < '/home/backend/api_db/cron/recentBooks.sql'",
                "if [ $? -ne 0 ]; then echo 'Failed to update cron table for recentBooks'; exit 1; fi",
                "chmod +rx cron/updateRecentBooks.php",
                "{ crontab -l; echo '0 10 * * * /usr/bin/php /home/backend/cron/updateRecentBooks.php >> /home/backend/cron/recentBooks.log.txt 2>&1'; } | crontab -",
                "if [ $? -ne 0 ]; then echo 'Failed to update crontab job for recentBooks'; exit 1; fi",
                "/usr/bin/php /home/backend/cron/updateRecentBooks.php >> /home/backend/cron/recentBooks.log.txt 2>&1",
                "if [ $? -ne 0 ]; then echo 'Failed to force-run updateRecentBooks.php'; exit 1; fi",
                "echo '-----Installation complete-----'",
                "exit 0"
            ]
        },
        "databaseProcess": {
            "paths": [
                "backend/rabbitMQ"
            ],
            "commands": [
                "echo 'Installing databaseProcess (Backend RabbitMQ Processor)'",
                "sudo cp -r backend/ /home/",
                "if [ $? -ne 0 ]; then echo 'Failed to move files.'; exit 1; fi",
                "sudo systemctl restart rabbitmqserver.service",
                "if [ $? -ne 0 ]; then echo 'Failed to restart rabbitmqserver.service.'; exit 1; fi",
                "echo '-----Installation complete-----'",
                "exit 0"
            ]
        }
    },
    "DMZ": {
        "apiProcess": {
            "paths": [
                "api/api_endpoints.php",
                "api/api_process.php",
                "api/get_host_info.inc",
                "api/Library_API.php",
                "api/rabbitMQLib.inc",
                "api/rmqAccess.ini",
                "api/daemon"
            ],
            "commands": [
                "echo 'Installing apiProcess (DMZ RabbitMQ Processor)'",
                "sudo cp -r api/ /home/",
                "if [ $? -ne 0 ]; then echo 'Failed to move files.'; exit 1; fi",
                "sudo systemctl restart libraryapi.service",
                "if [ $? -ne 0 ]; then echo 'Failed to restart libraryapi.service.'; exit 1; fi",
                "echo '-----Installation complete-----'",
                "exit 0"
            ]
        }
    }
}